import{ag as I,r as a}from"./index.dc551ac6.js";import{d as s}from"./dexie.8617b804.js";import{emitter as k}from"./mitt.4e333a4b.js";const P=I("settingsStore",()=>{const o=a(0),n=a(null),i=a("My car"),c=a(""),u=a(!1),l=a(!1),r=a(""),g=a(!1),p=a(1),d=a(!0);function f(t){(async()=>{const e=await s.settings.toArray();e[0].distanceUnitId=t,await s.settings.put(e[0]),o.value=t})()}async function m(t){const e=await s.settings.toArray();if(t)return e[0].vehicleId=t.id,await s.settings.put(e[0]),n.value=t.id,i.value=t.name,c.value=t.plateNumber,k.emit("selectedVehicleChanged",!0),Promise.resolve();e[0].vehicleId=null,s.settings.put(e[0]),n.value=null,i.value="My Car",c.value=""}function v(t){(async()=>{const e=await s.settings.toArray();e[0].plateNumberInTitleActive=t,await s.settings.put(e[0]),u.value=t})()}function y(t){(async()=>{const e=await s.settings.toArray();e[0].autoBackupActive=t,await s.settings.put(e[0]),l.value=t})()}function A(t){(async()=>{const e=await s.settings.toArray();e[0].autoBackupPath=t,await s.settings.put(e[0]),r.value=t})()}function w(t){(async()=>{const e=await s.settings.toArray();e[0].refuelFilterActive=t,await s.settings.put(e[0]),g.value=t})()}function h(t){(async()=>{const e=await s.settings.toArray();e[0].colorThemeId=t,await s.settings.put(e[0]),p.value=t})()}return{selectedDistanceUnitId:o,selectedVehicleId:n,selectedVehicleName:i,selectedVehiclePlateNumber:c,plateNumberInTitleActive:u,autoBackupActive:l,autoBackupPath:r,refuelFilterActive:g,selectedColorThemeId:p,checkForUpdate:d,changeDistanceUnit:f,changeSelectedVehicle:m,togglePlateNumberInTitle:v,toggleAutoBackup:y,setAutoBackupPath:A,toggleRefuelFilter:w,changeColorTheme:h}});export{P as u};
