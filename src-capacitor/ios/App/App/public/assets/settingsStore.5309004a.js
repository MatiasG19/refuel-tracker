import{k as w,r as a}from"./index.af9e0f6e.js";import{d as s}from"./dexie.e9b82229.js";import{emitter as A}from"./mitt.4e333a4b.js";const b=w("settingsStore",()=>{const o=a(0),n=a(null),i=a("My car"),c=a(""),u=a(!1),l=a(!1),r=a(""),g=a(1);function p(t){(async()=>{const e=await s.settings.toArray();e[0].distanceUnitId=t,await s.settings.put(e[0]),o.value=t})()}async function d(t){const e=await s.settings.toArray();if(t)return e[0].vehicleId=t.id,await s.settings.put(e[0]),n.value=t.id,i.value=t.name,c.value=t.plateNumber,A.emit("selectedVehicleChanged",!0),Promise.resolve();e[0].vehicleId=null,s.settings.put(e[0]),n.value=null,i.value="My Car",c.value=""}function m(t){(async()=>{const e=await s.settings.toArray();e[0].plateNumberInTitleActive=t,await s.settings.put(e[0]),u.value=t})()}function f(t){(async()=>{const e=await s.settings.toArray();e[0].autoBackupActive=t,await s.settings.put(e[0]),l.value=t})()}function v(t){(async()=>{const e=await s.settings.toArray();e[0].autoBackupPath=t,await s.settings.put(e[0]),r.value=t})()}function y(t){(async()=>{const e=await s.settings.toArray();e[0].colorThemeId=t,await s.settings.put(e[0]),g.value=t})()}return{selectedDistanceUnitId:o,selectedVehicleId:n,selectedVehicleName:i,selectedVehiclePlateNumber:c,plateNumberInTitleActive:u,autoBackupActive:l,autoBackupPath:r,selectedColorThemeId:g,changeDistanceUnit:p,changeSelectedVehicle:d,togglePlateNumberInTitle:m,toggleAutoBackup:f,setAutoBackupPath:v,changeColorTheme:y}});export{b as u};
