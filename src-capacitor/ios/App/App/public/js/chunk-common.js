"use strict";(self["webpackChunkrefuel_tracker"]=self["webpackChunkrefuel_tracker"]||[]).push([[64],{8004:(e,n,t)=>{t.d(n,{V:()=>U});var i=t(2147),o=t(3673),s=t(2323),r=t(1959),l=t(1701);const a=(0,o.aZ)({props:{promptMessage:{type:String,required:!0},action:{type:Function},actionArgument:{}},setup(e){const n=e,{dialogRef:t,onDialogOK:i,onDialogCancel:a}=(0,l.Z)();function c(){n.action&&n.action(n.actionArgument),i()}return(n,i)=>{const l=(0,o.up)("q-card-section"),u=(0,o.up)("q-btn"),d=(0,o.up)("q-space"),p=(0,o.up)("q-card-actions"),f=(0,o.up)("q-card"),v=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(v,{ref_key:"dialogRef",ref:t,"no-backdrop-dismiss":"",position:"bottom","full-width":""},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"q-ma-md el-space-station"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.promptMessage),1)])),_:1}),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{onClick:(0,r.SU)(a),class:"column btn","no-caps":"",color:"negative",label:"Cancel"},null,8,["onClick"]),(0,o.Wm)(d),(0,o.Wm)(u,{onClick:c,class:"column btn","no-caps":"",color:"positive",label:"Confirm"})])),_:1})])),_:1})])),_:1},512)}}});var c=t(4260),u=t(6778),d=t(151),p=t(5589),f=t(9367),v=t(8240),h=t(2025),m=t(7518),g=t.n(m);const y=(0,c.Z)(a,[["__scopeId","data-v-34b3ac7c"]]),b=y;function U(e,n,t){i.Z.create({component:b,componentProps:{promptMessage:e,action:n,actionArgument:t}})}g()(a,"components",{QDialog:u.Z,QCard:d.Z,QCardSection:p.Z,QCardActions:f.Z,QBtn:v.Z,QSpace:h.Z})},8498:(e,n,t)=>{t.d(n,{o:()=>b});var i=t(2147),o=t(3673),s=t(2323),r=t(1701);const l=(0,o.aZ)({props:{options:{type:Array,required:!0},data:{type:void 0}},setup(e){const n=e,{dialogRef:t,onDialogOK:i}=(0,r.Z)();function l(e){e.action(n.data),i()}return(n,i)=>{const r=(0,o.up)("q-space"),a=(0,o.up)("q-icon"),c=(0,o.up)("q-btn"),u=(0,o.up)("q-card-actions"),d=(0,o.up)("q-card"),p=(0,o.up)("q-dialog"),f=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(p,{ref_key:"dialogRef",ref:t,position:"bottom","full-width":""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"q-ma-md el-space-station"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,((e,n)=>((0,o.wg)(),(0,o.j4)(u,{key:n},{default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.j4)(c,{onClick:n=>l(e),class:"row full-width",flat:"","no-caps":"",color:"primary"},{default:(0,o.w5)((()=>[(0,o._)("label",null,(0,s.zw)(e.text),1),(0,o.Wm)(r),(0,o.Wm)(a,{name:e.icon},null,8,["name"])])),_:2},1032,["onClick"])),[[f]])])),_:2},1024)))),128))])),_:1})])),_:1},512)])}}});var a=t(6778),c=t(151),u=t(9367),d=t(8240),p=t(2025),f=t(4554),v=t(677),h=t(7518),m=t.n(h);const g=l,y=g;m()(l,"components",{QDialog:a.Z,QCard:c.Z,QCardActions:u.Z,QBtn:d.Z,QSpace:p.Z,QIcon:f.Z}),m()(l,"directives",{ClosePopup:v.Z});function b(e,n){i.Z.create({component:y,componentProps:{options:e,data:n}})}},8512:(e,n,t)=>{t.d(n,{xJ:()=>i,CD:()=>o,XL:()=>s});class i{}class o{}class s extends i{}},5366:(e,n,t)=>{t.d(n,{m:()=>f,V:()=>p});var i=t(3673),o=t(996),s=t(52),r=t.n(s),l=t(8825),a=t(3437),c=t(4147),u=t(4790),d=function(e,n,t,i){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,s){function r(e){try{a(i.next(e))}catch(n){s(n)}}function l(e){try{a(i["throw"](e))}catch(n){s(n)}}function a(e){e.done?t(e.value):o(e.value).then(r,l)}a((i=i.apply(e,n||[])).next())}))};function p(){const e=(0,u.F)(),n=(0,l.Z)();let t;function s(){e.checkForUpdate&&r().get(`https://api.github.com/repos/${c.author}/${c.name}/releases`).then((e=>{const n=e.data;n&&n.length&&p(n[0].tag_name,c.version)&&(v(n[0].tag_name),f(n[0].tag_name))})).catch((e=>console.debug("Could not check for updates! Response: ",e))),e.checkForUpdate=!1}function p(e,n){const t=e.replace("v","").split("."),i=n.replace("v","").split(".");if(t.length!==i.length)return!1;for(let o=0;o<3;o++)if(Number(t[o])>Number(i[o]))return!0;return!1}function f(e){return d(this,void 0,void 0,(function*(){n.capacitor&&(yield o.s.schedule({notifications:[{title:`New version of ${c.productName} available`,body:`Tap to download version ${e}`,id:1,schedule:{at:new Date(Date.now())},actionTypeId:"NEW_VERSION"}]}))}))}function v(e){n.capacitor&&(t=o.s.addListener("localNotificationActionPerformed",(n=>{"DOWNLOAD_NEW_VERSION"===n.actionId&&(0,a.Z)(`https://github.com/${c.author}/${c.name}/releases/download/${e}/${c.name}-${e}.apk`)})))}return(0,i.bv)((()=>{n.capacitor&&o.s.registerActionTypes({types:[{id:"NEW_VERSION",actions:[{id:"DOWNLOAD_NEW_VERSION",title:"Download",foreground:!0}]}]})})),(0,i.Ah)((()=>{null===t||void 0===t||t.remove()})),s}function f(e){return e.replace(",",".")}},9496:(e,n,t)=>{t.d(n,{Mo:()=>i,gI:()=>o,pI:()=>s,RY:()=>r});const i=e=>!!e||"Required field",o=e=>+e||"Numbers only",s=e=>+e>0?+e:"Positive numbers only",r=e=>e.length<=50?1:"Maximum 50 characters"},4790:(e,n,t)=>{t.d(n,{n:()=>v,F:()=>p});var i=t(321),o=t(1959),s=t(198),r=t(6451);function l(){const{t:e}=r.i18n.global;return[{id:1,distanceUnit:e("distanceUnits.kilometersShort"),fuelUnit:e("fuelUnits.litre"),fuelConsumptionUnit:e("fuelConsumptionsUnits.litresPer100km"),distanceConversion:1,fuelUnitConversion:1},{id:2,distanceUnit:e("distanceUnits.milesShort"),fuelUnit:e("fuelUnits.gallon"),fuelConsumptionUnit:e("fuelConsumptionsUnits.mpgUs"),distanceConversion:1,fuelUnitConversion:1},{id:3,distanceUnit:"Miles",fuelUnit:e("fuelUnits.gallon"),fuelConsumptionUnit:e("fuelConsumptionsUnits.mpgImperial"),distanceConversion:1,fuelUnitConversion:1},{id:4,distanceUnit:e("distanceUnits.kilometersShort"),fuelUnit:e("fuelUnits.kWh"),fuelConsumptionUnit:e("fuelConsumptionsUnits.kWhPer100km"),distanceConversion:1,fuelUnitConversion:1},{id:5,distanceUnit:e("distanceUnits.kilometersShort"),fuelUnit:e("fuelUnits.wh"),fuelConsumptionUnit:e("fuelConsumptionsUnits.whPer100km"),distanceConversion:1,fuelUnitConversion:1},{id:6,distanceUnit:e("distanceUnits.milesShort"),fuelUnit:e("fuelUnits.wh"),fuelConsumptionUnit:e("fuelConsumptionsUnits.whPerMile"),distanceConversion:1,fuelUnitConversion:1}]}function a(){const{t:e}=r.i18n.global;return[{id:1,name:e("periods.week"),periodInDays:7},{id:2,name:e("periods.threeMonths"),periodInDays:90},{id:3,name:e("periods.sixMonths"),periodInDays:180},{id:4,name:e("periods.year"),periodInDays:365},{id:5,name:e("periods.max"),periodInDays:0}]}var c=t(9256),u=t(1036),d=function(e,n,t,i){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,s){function r(e){try{a(i.next(e))}catch(n){s(n)}}function l(e){try{a(i["throw"](e))}catch(n){s(n)}}function a(e){e.done?t(e.value):o(e.value).then(r,l)}a((i=i.apply(e,n||[])).next())}))};const p=(0,i.Q_)("settingsStore",(()=>{const e=(0,o.iH)(0),n=(0,o.iH)(null),t=(0,o.iH)("My car"),i=(0,o.iH)(""),r=(0,o.iH)(!1),l=(0,o.iH)(!1),a=(0,o.iH)(1),c=(0,o.iH)(!0);function p(n){(()=>{d(this,void 0,void 0,(function*(){const t=yield s.db.settings.toArray();t[0].distanceUnitId=n,yield s.db.settings.put(t[0]),e.value=n}))})()}function f(e){return d(this,void 0,void 0,(function*(){const o=yield s.db.settings.toArray();if(e)return o[0].vehicleId=e.id,yield s.db.settings.put(o[0]),n.value=e.id,t.value=e.name,i.value=e.plateNumber,u.emitter.emit("selectedVehicleChanged",!0),Promise.resolve();o[0].vehicleId=null,s.db.settings.put(o[0]),n.value=null,t.value="My Car",i.value=""}))}function v(e){(()=>{d(this,void 0,void 0,(function*(){const n=yield s.db.settings.toArray();n[0].plateNumberInTitleActive=e,yield s.db.settings.put(n[0]),r.value=e}))})()}function h(e){(()=>{d(this,void 0,void 0,(function*(){const n=yield s.db.settings.toArray();n[0].refuelFilterActive=e,yield s.db.settings.put(n[0]),l.value=e}))})()}function m(e){(()=>{d(this,void 0,void 0,(function*(){const n=yield s.db.settings.toArray();n[0].colorThemeId=e,yield s.db.settings.put(n[0]),a.value=e}))})()}return{selectedDistanceUnitId:e,selectedVehicleId:n,selectedVehicleName:t,selectedVehiclePlateNumber:i,plateNumberInTitleActive:r,refuelFilterActive:l,selectedColorThemeId:a,checkForUpdate:c,changeDistanceUnit:p,changeSelectedVehicle:f,togglePlateNumberInTitle:v,toggleRefuelFilter:h,changeColorTheme:m}}));var f=function(e,n,t,i){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,s){function r(e){try{a(i.next(e))}catch(n){s(n)}}function l(e){try{a(i["throw"](e))}catch(n){s(n)}}function a(e){e.done?t(e.value):o(e.value).then(r,l)}a((i=i.apply(e,n||[])).next())}))};const v=(0,i.Q_)("refuelStore",(()=>{const e=p(),n=(0,o.iH)([]),t=(0,o.iH)([]);function i(e){return f(this,void 0,void 0,(function*(){n.value=yield r(e)}))}function r(e){return f(this,void 0,void 0,(function*(){return yield s.db.refuels.where("vehicleId").equals(e).toArray()}))}function u(n){var t;return f(this,void 0,void 0,(function*(){if(!e.selectedVehicleId)return;const i=yield r(e.selectedVehicleId);return null!==(t=i.find((e=>e.id==n)))&&void 0!==t?t:null}))}function d(e){return f(this,void 0,void 0,(function*(){yield s.db.refuels.add(e)}))}function v(e){return f(this,void 0,void 0,(function*(){yield s.db.refuels.put(e)}))}function h(e){return f(this,void 0,void 0,(function*(){yield s.db.refuels["delete"](e)}))}function m(){return f(this,void 0,void 0,(function*(){t.value=yield g()}))}function g(){return f(this,void 0,void 0,(function*(){const e=yield s.db.vehicles.toArray();for(const n of e){const e=yield r(n.id);e.length>0&&(n.refuels=[],e.forEach((e=>{var t;return null===(t=n.refuels)||void 0===t?void 0:t.push(e)})),n.fuelUnit=yield q(n.fuelUnitId))}return e}))}function y(e){var n;return f(this,void 0,void 0,(function*(){const t=yield g(),i=null!==(n=t.find((n=>n.id==e)))&&void 0!==n?n:null;return i||null}))}function b(){const e=new Array;return t.value.forEach((n=>e.push(Object.assign(Object.assign({},n),{fuelConsumption:((0,c.DS)(n).toFixed(2)||"").toString()})))),e}function U(n){return f(this,void 0,void 0,(function*(){yield s.db.vehicles.add(n),1===(yield s.db.vehicles.count())&&e.changeSelectedVehicle(n)}))}function w(e){return f(this,void 0,void 0,(function*(){yield s.db.vehicles.put(e)}))}function C(n){return f(this,void 0,void 0,(function*(){yield s.db.transaction("rw",[s.db.vehicles,s.db.refuels,s.db.settings],(()=>f(this,void 0,void 0,(function*(){const t=yield s.db.refuels.where("vehicleId").equals(n).toArray();if(t.forEach((e=>{(()=>{f(this,void 0,void 0,(function*(){yield s.db.refuels["delete"](e.id)}))})()})),yield s.db.vehicles["delete"](n),(yield s.db.vehicles.count())>0){const n=yield s.db.vehicles.toArray();e.changeSelectedVehicle(n[0])}else e.changeSelectedVehicle(null)}))))}))}function I(){return f(this,void 0,void 0,(function*(){return yield Promise.resolve(a())}))}function k(){return f(this,void 0,void 0,(function*(){return yield Promise.resolve(l())}))}function q(e){return f(this,void 0,void 0,(function*(){return yield Promise.resolve(l().filter((n=>n.id===e))[0])}))}return{refuels:n,vehicles:t,readRefuels:i,getRefuel:u,addRefuel:d,updateRefuel:v,deleteRefuel:h,readVehicles:m,getVehicle:y,getAllVehicleData:b,addVehicle:U,updateVehicle:w,deleteVehicle:C,getPeriods:I,getFuelUnits:k,getFuelUnit:q}}))},605:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(3673);const o=(0,i.aZ)({props:{value:{type:String,reqired:!0},label:{type:String,default:"Input"},rules:{type:null}},emits:["value"],setup(e){return(n,t)=>{const o=(0,i.up)("q-input");return(0,i.wg)(),(0,i.j4)(o,{outlined:"",color:"accent","model-value":e.value,onUpdate:t[0]||(t[0]=e=>n.$emit("value",e)),label:e.label,rules:e.rules},{default:(0,i.w5)((()=>[(0,i.WI)(n.$slots,"default")])),_:3},8,["model-value","label","rules"])}}});var s=t(4842),r=t(7518),l=t.n(r);const a=o,c=a;l()(o,"components",{QInput:s.Z})},3194:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(3673);const o=(0,i.aZ)({props:{value:{type:String,reqired:!0},options:{type:Array,required:!1},label:{type:String,default:"Input"}},emits:["value"],setup(e){return(n,t)=>{const o=(0,i.up)("q-select");return(0,i.wg)(),(0,i.j4)(o,{outlined:"",color:"accent","model-value":e.value,onInput:t[0]||(t[0]=e=>n.$emit("value",e)),options:e.options,label:e.label,"map-options":"","emit-value":""},{default:(0,i.w5)((()=>[(0,i.WI)(n.$slots,"default")])),_:3},8,["model-value","options","label"])}}});var s=t(1935),r=t(7518),l=t.n(r);const a=o,c=a;l()(o,"components",{QSelect:s.Z})},4147:e=>{e.exports=JSON.parse('{"name":"refuel-tracker","version":"0.0.1","description":"Tracks your refuels.","productName":"Refuel Tracker","author":"MatiasG19","private":true,"scripts":{"lint":"eslint --ext .js,.ts,.vue ./","test":"echo \\"No test specified\\" && exit 0","dev":"quasar dev","build":"quasar build","mode":"quasar mode add capacitor","appdev":"quasar dev -m capacitor -T android","appbuild":"quasar build -m capacitor -T android","favicons":"icongenie generate --theme-color 8488ff --icon ./.icons/icon.png","appicons":"icongenie generate --mode capacitor --theme-color 8488ff --skip-trim --icon ./.icons/appicon.png","splashicons":"icongenie generate --mode capacitor --filter splashscreen --splashscreen-icon-ratio 30 --theme-color 8488ff --skip-trim --icon ./.icons/icon.png"},"dependencies":{"@quasar/extras":"^1.0.0","axios":"^0.27.2","core-js":"^3.6.5","dexie":"^3.2.2","mitt":"^3.0.0","pinia":"^2.0.11","quasar":"^2.4.10","vue-i18n":"^9.0.0"},"devDependencies":{"@babel/eslint-parser":"^7.13.14","@capacitor/core":"3.0.0","@capacitor/keyboard":"^1.2.3","@capacitor/local-notifications":"^1.1.0","@quasar/app":"^3.0.0","@quasar/vite-plugin":"^1.0.4","@types/node":"^12.20.21","@typescript-eslint/eslint-plugin":"^4.16.1","@typescript-eslint/parser":"^4.16.1","eslint":"^7.14.0","eslint-config-prettier":"^8.1.0","eslint-plugin-vue":"^7.0.0","sass":"1.32.0"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 12.22.1","npm":">= 6.13.4","yarn":">= 1.21.1"}}')}}]);