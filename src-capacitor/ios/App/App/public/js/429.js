"use strict";(self["webpackChunkrefuel_tracker"]=self["webpackChunkrefuel_tracker"]||[]).push([[429],{8574:(e,t,l)=>{l.r(t),l.d(t,{default:()=>B});var i=l(3673),n=l(1959),c=l(2323),s=l(8512),a=l(5616),o=l(1036);const u={class:"row items-center no-wrap"},r={class:"col"},d={class:"text-subtitle2"},v={class:"col-auto space-station"},f={class:"row"},p={class:"col"},h={class:"text-h4 accent-space-station"},m={class:"text-subtitle1"},w={class:"col"},_={class:"text-h4 accent-space-station"},g={class:"text-subtitle1"},k={class:"col"},y={class:"text-h4 accent-space-station"},x={class:"text-subtitle1"},D=(0,i.aZ)({props:{refuel:{type:s.CD,required:!0},vehicle:{type:s.xJ,required:!0}},setup(e){const t=e,l=a.ZP.formatDate(t.refuel.date,"YYYY-MMM-DD HH:mm");return(t,s)=>{const a=(0,i.up)("q-btn"),D=(0,i.up)("q-card-section"),U=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(U,{class:"space-station"},{default:(0,i.w5)((()=>[(0,i.Wm)(D,null,{default:(0,i.w5)((()=>{var t,D;return[(0,i._)("div",u,[(0,i._)("div",r,[(0,i._)("div",d,(0,c.zw)((0,n.SU)(l)),1)]),(0,i._)("div",v,[(0,i.Wm)(a,{dense:"",round:"",flat:"",icon:"more_vert",onClick:s[0]||(s[0]=t=>(0,n.SU)(o.emitter).emit("showRefuelOptionsDialog",e.refuel.id))})])]),(0,i._)("div",f,[(0,i._)("div",p,[(0,i._)("div",h,(0,c.zw)(e.refuel.distanceDriven),1),(0,i._)("div",m,(0,c.zw)(null===(t=e.vehicle.fuelUnit)||void 0===t?void 0:t.distanceUnit),1)]),(0,i._)("div",w,[(0,i._)("div",_,(0,c.zw)(e.refuel.payedAmount),1),(0,i._)("div",g,(0,c.zw)(e.vehicle.currencyUnit),1)]),(0,i._)("div",k,[(0,i._)("div",y,(0,c.zw)(e.refuel.refueledAmount),1),(0,i._)("div",x,(0,c.zw)(null===(D=e.vehicle.fuelUnit)||void 0===D?void 0:D.fuelUnit),1)])])]})),_:1})])),_:1})])}}});var U=l(151),b=l(5589),q=l(8240),z=l(7518),S=l.n(z);const C=D,Z=C;S()(D,"components",{QCard:U.Z,QCardSection:b.Z,QBtn:q.Z});var R=l(9582),W=l(8498),A=l(8004),Q=l(4790),V=function(e,t,l,i){function n(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,c){function s(e){try{o(i.next(e))}catch(t){c(t)}}function a(e){try{o(i["throw"](e))}catch(t){c(t)}}function o(e){e.done?l(e.value):n(e.value).then(s,a)}o((i=i.apply(e,t||[])).next())}))};const F={key:0,class:"q-pt-md text-center"},H={key:1,class:"absolute-center items-center"},I={class:"row"},Y={key:2,class:"absolute-center items-center"},M={class:"row"},O=(0,i.aZ)({setup(e){const t=(0,R.tv)(),l=(0,Q.n)(),a=(0,Q.F)(),u=(0,n.iH)(new s.xJ),r=(0,n.iH)(a.refuelFilterActive),d="Filter 1 Month from 2021.12.19",v=a.selectedVehicleId;let f=(0,n.Fl)((()=>r.value?l.refuels:[...l.refuels].sort(((e,t)=>t.date.getTime()-e.date.getTime()))));function p(){a.toggleRefuelFilter(!1),r.value=!1}return o.emitter.on("showRefuelOptionsDialog",(e=>(0,W.o)([{text:"Edit",icon:"edit",action:()=>t.push({path:`/refuels/edit/${e}`,params:{id:e}})},{text:"Delete",icon:"delete",action:()=>(0,A.V)("Delete refuel entry?",(e=>{(()=>{V(this,void 0,void 0,(function*(){return yield l.deleteRefuel(e).then((()=>V(this,void 0,void 0,(function*(){var e;return yield l.readRefuels(null!==(e=a.selectedVehicleId)&&void 0!==e?e:0)}))))}))})()}),e)}]))),(0,i.bv)((()=>V(this,void 0,void 0,(function*(){var e,t,i;o.emitter.emit("updateTitle","Refuels"),yield l.readRefuels(null!==(e=a.selectedVehicleId)&&void 0!==e?e:0),u.value=null!==(i=yield l.getVehicle(null!==(t=a.selectedVehicleId)&&void 0!==t?t:0))&&void 0!==i?i:u.value})))),(0,i.Ah)((()=>{o.emitter.off("showRefuelOptionsDialog")})),(e,l)=>{const s=(0,i.up)("q-btn"),a=(0,i.up)("q-icon"),o=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(o,null,{default:(0,i.w5)((()=>[(0,n.SU)(v)&&r.value?((0,i.wg)(),(0,i.iD)("div",F,[(0,i.Wm)(s,{class:"q-pa-xs",style:{color:"pink"},flat:"","no-caps":"",label:" ",onClick:p,"icon-right":"delete_outline"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(d))])),_:1})])):(0,i.kq)("",!0),(0,n.SU)(v)&&0===(0,n.SU)(f).length?((0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("div",I,[(0,i.Wm)(a,{class:"col",name:"img:local_gas_station.svg",size:"100px"})]),(0,i.Wm)(s,{color:"accent",label:"Add refuel","icon-right":"add",unelevated:"","no-caps":"",outline:"",onClick:l[0]||(l[0]=e=>(0,n.SU)(t).push("/refuels/add"))})])):(0,n.SU)(v)?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:3},(0,i.Ko)((0,n.SU)(f),((e,t)=>((0,i.wg)(),(0,i.j4)(Z,{key:t,refuel:e,vehicle:u.value,class:"q-pt-md q-pl-md q-pr-md"},null,8,["refuel","vehicle"])))),128)):((0,i.wg)(),(0,i.iD)("div",Y,[(0,i._)("div",M,[(0,i.Wm)(a,{class:"col",name:"img:local_gas_station.svg",size:"100px"})]),(0,i.Wm)(s,{color:"accent",label:"Add vehicle","icon-right":"add",unelevated:"","no-caps":"",outline:"",onClick:l[1]||(l[1]=e=>(0,n.SU)(t).push("/vehicles/add"))})]))])),_:1})}}});var P=l(4379),T=l(4554);const j=O,B=j;S()(O,"components",{QPage:P.Z,QBtn:q.Z,QIcon:T.Z})}}]);