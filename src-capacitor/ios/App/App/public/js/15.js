"use strict";(self["webpackChunkrefuel_tracker"]=self["webpackChunkrefuel_tracker"]||[]).push([[15],{7851:(e,t,i)=>{i.r(t),i.d(t,{default:()=>W});var n=i(3673),c=i(1959),l=i(2323),o=i(8880),s=i(8512),a=i(1036);const u={class:"row items-center no-wrap"},r={class:"col"},d={class:"text-subtitle2"},h={class:"col-auto space-station"},v={class:"text-h4 accent-space-station"},p={class:"text-subtitle1"},f=(0,n.aZ)({props:{vehicle:{type:s.XL,required:!0}},setup(e){return(t,i)=>{const s=(0,n.up)("q-btn"),f=(0,n.up)("q-card-section"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(m,{class:"space-station"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>{var t;return[(0,n._)("div",u,[(0,n._)("div",r,[(0,n._)("div",d,(0,l.zw)(e.vehicle.fuelConsumption)+" "+(0,l.zw)(null===(t=e.vehicle.fuelUnit)||void 0===t?void 0:t.fuelConsumptionUnit),1)]),(0,n._)("div",h,[(0,n.Wm)(s,{dense:"",round:"",flat:"",icon:"more_vert",onClick:i[0]||(i[0]=(0,o.iM)((t=>(0,c.SU)(a.emitter).emit("showVehicleOptionsDialog",e.vehicle.id)),["stop"]))})])]),(0,n._)("div",v,(0,l.zw)(e.vehicle.name),1),(0,n._)("div",p,(0,l.zw)(e.vehicle.plateNumber),1)]})),_:1})])),_:1})])}}});var m=i(151),w=i(5589),g=i(8240),_=i(7518),y=i.n(_);const k=f,b=k;y()(f,"components",{QCard:m.Z,QCardSection:w.Z,QBtn:g.Z});var V=i(8498),q=i(8004),C=i(9582),x=i(4790),D=function(e,t,i,n){function c(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,l){function o(e){try{a(n.next(e))}catch(t){l(t)}}function s(e){try{a(n["throw"](e))}catch(t){l(t)}}function a(e){e.done?i(e.value):c(e.value).then(o,s)}a((n=n.apply(e,t||[])).next())}))};const S={key:0,class:"absolute-center items-center"},Z={class:"row"},Q=(0,n.aZ)({setup(e){const t=(0,C.tv)(),i=(0,x.n)(),l=(0,x.F)(),o=(0,c.Fl)((()=>i.vehicles?i.getAllVehicleData():[]));function s(e){return D(this,void 0,void 0,(function*(){yield l.changeSelectedVehicle(Object.assign({},e)),yield t.push("/")}))}return a.emitter.on("showVehicleOptionsDialog",(e=>(0,V.o)([{text:"Show refuels",icon:"local_gas_station",action:()=>D(this,void 0,void 0,(function*(){const n=yield i.getVehicle(e);yield l.changeSelectedVehicle(Object.assign({},n)),t.push("/refuels")}))},{text:"Edit",icon:"edit",action:()=>t.push({path:`/vehicles/edit/${e}`,params:{id:e}})},{text:"Delete",icon:"delete",action:()=>(0,q.V)("Delete vehicle?",(e=>{(()=>{D(this,void 0,void 0,(function*(){return yield i.deleteVehicle(e).then((()=>D(this,void 0,void 0,(function*(){return yield i.readVehicles()}))))}))})()}),e)}]))),(0,n.bv)((()=>D(this,void 0,void 0,(function*(){a.emitter.emit("updateTitle","Vehicles"),yield i.readVehicles()})))),(0,n.Ah)((()=>{a.emitter.off("showVehicleOptionsDialog")})),(e,i)=>{const l=(0,n.up)("q-icon"),a=(0,n.up)("q-btn"),u=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(u,null,{default:(0,n.w5)((()=>[0===(0,c.SU)(o).length?((0,n.wg)(),(0,n.iD)("div",S,[(0,n._)("div",Z,[(0,n.Wm)(l,{class:"col",name:"img:directions_car.svg",size:"100px"})]),(0,n.Wm)(a,{color:"accent",label:"Add vehicle","icon-right":"add",unelevated:"","no-caps":"",outline:"",onClick:i[0]||(i[0]=e=>(0,c.SU)(t).push("/vehicles/add"))})])):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)((0,c.SU)(o),((e,t)=>((0,n.wg)(),(0,n.j4)(b,{key:t,vehicle:e,class:"q-pt-md q-pl-md q-pr-md",onClick:t=>s(e)},null,8,["vehicle","onClick"])))),128))])),_:1})}}});var U=i(4379),z=i(4554);const O=Q,W=O;y()(Q,"components",{QPage:U.Z,QIcon:z.Z,QBtn:g.Z})}}]);