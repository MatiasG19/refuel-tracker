"use strict";(self["webpackChunkrefuel_tracker"]=self["webpackChunkrefuel_tracker"]||[]).push([[57],{2057:(e,l,u)=>{u.r(l),u.d(l,{default:()=>w});var t=u(3673),n=u(1959),a=u(9582),i=u(605),o=u(3194),c=u(1036),d=u(9496),r=u(7616),s=u(8512),m=function(e,l,u,t){function n(e){return e instanceof u?e:new u((function(l){l(e)}))}return new(u||(u=Promise))((function(u,a){function i(e){try{c(t.next(e))}catch(l){a(l)}}function o(e){try{c(t["throw"](e))}catch(l){a(l)}}function c(e){e.done?u(e.value):n(e.value).then(i,o)}c((t=t.apply(e,l||[])).next())}))};const p={class:"row"},v=(0,t.aZ)({props:{id:{type:Number}},setup(e){const l=e,u=(0,a.tv)(),v=(0,r.n)(),f=(0,n.iH)(new s.xJ),b=(0,n.iH)([]);let h="";function V(){return m(this,void 0,void 0,(function*(){h.includes("/add")?yield v.addVehicle(Object.assign({},f.value)):h.includes("/edit")&&(f.value.id===v.selectedVehicleId&&v.changeSelectedVehicle(Object.assign({},f.value)),yield v.updateVehicle(Object.assign({},f.value))),u.push("/vehicles")}))}return(0,t.bv)((()=>m(this,void 0,void 0,(function*(){if(l.id){const e=yield v.getVehicle(l.id);e?(f.value.id=e.id,f.value.name=e.name,f.value.plateNumber=e.plateNumber,f.value.fuelUnitId=e.fuelUnitId,f.value.currencyUnit=e.currencyUnit):console.error("Vehicle not found!")}const e=yield v.getFuelUnits();e.forEach((e=>b.value.push({label:e.fuelConsumptionUnit,value:e.id}))),h=u.currentRoute.value.path.toLocaleLowerCase(),h.includes("/add")?c.emitter.emit("updateTitle","Add vehicle"):h.includes("/edit")&&c.emitter.emit("updateTitle","Edit vehicle")})))),(e,l)=>{const u=(0,t.up)("q-btn"),a=(0,t.up)("q-space"),c=(0,t.up)("q-form");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(c,{onSubmit:V,class:"q-pa-md q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(i.Z,{modelValue:f.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>f.value.name=e),label:"Vehicle name",rules:[(0,n.SU)(d.Mo),(0,n.SU)(d.RY)],autofocus:""},null,8,["modelValue","rules"]),(0,t.Wm)(i.Z,{modelValue:f.value.plateNumber,"onUpdate:modelValue":l[1]||(l[1]=e=>f.value.plateNumber=e),label:"Plate number",rules:[(0,n.SU)(d.Mo)]},null,8,["modelValue","rules"]),(0,t.Wm)(o.Z,{outlined:"",class:"q-pb-md",modelValue:f.value.fuelUnitId,"onUpdate:modelValue":l[2]||(l[2]=e=>f.value.fuelUnitId=e),options:b.value,label:"Fuel unit"},null,8,["modelValue","options"]),(0,t.Wm)(i.Z,{class:"q-pb-md",modelValue:f.value.currencyUnit,"onUpdate:modelValue":l[3]||(l[3]=e=>f.value.currencyUnit=e),label:"Currency unit",rules:[(0,n.SU)(d.Mo)]},null,8,["modelValue","rules"]),(0,t._)("div",p,[(0,t.Wm)(u,{color:"negative",label:"Cancel","no-caps":"",class:"btn",onClick:l[4]||(l[4]=l=>e.$router.go(-1))}),(0,t.Wm)(a),(0,t.Wm)(u,{color:"positive",label:"Confirm",type:"submit","no-caps":"",class:"btn"})])])),_:1})])}}});var f=u(4260),b=u(5269),h=u(8240),V=u(2025),U=u(7518),y=u.n(U);const g=(0,f.Z)(v,[["__scopeId","data-v-4d75d4f4"]]),w=g;y()(v,"components",{QForm:b.Z,QBtn:h.Z,QSpace:V.Z})}}]);